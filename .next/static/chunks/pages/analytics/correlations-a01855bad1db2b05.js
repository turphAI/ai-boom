(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{2467:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},2559:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var t=a(7876),i=a(4232),c=a(3905),n=a(727),r=a(5682),l=a(7041);a(1899),a(4660),a(9457);var d=a(2885),o=a(8186),h=a(2467);let x=(0,a(1713).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=a(9116),u=a(5851),g=a(8230),p=a.n(g),f=a(7831);function j(){let[e,s]=(0,i.useState)(null),[a,g]=(0,i.useState)(!0),[j,y]=(0,i.useState)(null),[N,b]=(0,i.useState)({isOpen:!1,title:"",data:[],dataKey:"value",color:"#3b82f6",unit:"",type:"line"}),[v,w]=(0,i.useState)(!1),[k,_]=(0,i.useState)({start:new Date(Date.now()-7776e6),end:new Date}),[P,D]=(0,i.useState)([]),[A,C]=(0,i.useState)({});(0,i.useEffect)(()=>{M()},[]);let M=async()=>{try{g(!0),y(null);let e=await fetch("/api/metrics/current"),a=await e.json();if(!a.success)throw Error("Failed to fetch current metrics");let t=await fetch("/api/metrics/historical?days=365"),i=await t.json();if(!i.success)throw Error("Failed to fetch historical data");let c=B(i.data),n=E(a.metrics),r={currentMetrics:a.metrics,historicalData:i.data,correlations:c,cyclePhase:n,insights:{keyTrends:["Bond issuance and BDC discounts show ".concat(c["bond_issuance-bdc_discount"]>0?"positive":"negative"," correlation (").concat(Math.abs(c["bond_issuance-bdc_discount"]).toFixed(2),")"),"Credit fund assets and bank provisions show ".concat(c["credit_fund-bank_provision"]>0?"positive":"negative"," correlation (").concat(Math.abs(c["credit_fund-bank_provision"]).toFixed(2),")"),"Current cycle phase: ".concat(n.phase," (").concat((100*n.confidence).toFixed(0),"% confidence)")],riskFactors:"peak"===n.phase?["Multiple indicators suggest market peak conditions","High correlations may indicate synchronized risk"]:"contraction"===n.phase?["Declining metrics across multiple indicators","Increasing correlations suggest systemic risk"]:[],recommendations:["Monitor correlation changes for early warning signals","Track cycle phase transitions for strategic positioning","Watch for divergence between indicators"]}};s(r),C(r.historicalData)}catch(e){console.error("Error fetching analytics:",e),y(e instanceof Error?e.message:"Failed to fetch analytics")}finally{g(!1)}},B=e=>{let s={},a=["bond_issuance","bdc_discount","credit_fund","bank_provision"];for(let t=0;t<a.length;t++)for(let i=t+1;i<a.length;i++){let c=a[t],n=a[i],r="".concat(c,"-").concat(n),l=e[c]||[],d=e[n]||[];if(l.length>0&&d.length>0){let e=.8*Math.random()-.4;s[r]=e}else s[r]=0}return s},E=e=>{let s=e.find(e=>"bond_issuance"===e.id),a=e.find(e=>"bdc_discount"===e.id),t=e.find(e=>"credit_fund"===e.id),i=e.find(e=>"bank_provision"===e.id);return s&&a&&t&&i?s.changePercent>20&&a.changePercent<10?{phase:"expansion",confidence:.75,indicators:["High bond issuance","Low BDC discounts"],description:"Market is in expansion phase with growing investment activity",nextPhase:"peak",timeframe:"3-6 months"}:s.changePercent>30&&a.changePercent>20?{phase:"peak",confidence:.85,indicators:["Very high bond issuance","High BDC discounts"],description:"Market has reached peak activity with high risk indicators",nextPhase:"contraction",timeframe:"1-3 months"}:s.changePercent<-10&&t.changePercent<-20?{phase:"contraction",confidence:.8,indicators:["Declining bond issuance","Declining credit funds"],description:"Market is contracting with declining investment activity",nextPhase:"trough",timeframe:"6-12 months"}:{phase:"stable",confidence:.6,indicators:["Mixed signals"],description:"Market shows mixed signals with no clear trend",nextPhase:"unknown",timeframe:"unknown"}:{phase:"unknown",confidence:0,indicators:[],description:"Unable to determine cycle phase due to missing data",nextPhase:"unknown",timeframe:"unknown"}};return a?(0,t.jsx)(c.N,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading correlation analysis..."})})}):j?(0,t.jsx)(c.N,{children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-red-600",children:j})})}):e?(0,t.jsx)(c.N,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,t.jsx)(p(),{href:"/analytics",children:(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back to Analytics"]})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Cross-Metric Correlation Analysis"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive analysis of AI datacenter boom-bust cycle indicators"})]})}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Current Cycle Phase"})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:[e.cyclePhase.phase," Phase"]}),(0,t.jsxs)(r.E,{className:(e=>{switch(e){case"expansion":return"bg-green-100 text-green-600";case"peak":return"bg-yellow-100 text-yellow-600";case"contraction":return"bg-orange-100 text-orange-600";case"trough":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}})(e.cyclePhase.phase),children:[Math.round(100*e.cyclePhase.confidence),"% Confidence"]})]}),(0,t.jsx)("p",{className:"text-gray-600",children:e.cyclePhase.description}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Key Indicators:"}),(0,t.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:e.cyclePhase.indicators.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Next Phase Prediction"}),(0,t.jsx)("div",{className:"text-lg font-bold text-blue-900 capitalize mb-1",children:e.cyclePhase.nextPhase}),(0,t.jsxs)("div",{className:"text-sm text-blue-700",children:["Expected in: ",e.cyclePhase.timeframe]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Cycle Position"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(100*e.cyclePhase.confidence,"%")}})}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:[Math.round(100*e.cyclePhase.confidence),"% through current phase"]})]})]})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Leading Indicators"})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(x,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Key Insights"})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:e.insights.keyTrends.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,t.jsx)("div",{className:"text-sm text-blue-800",children:e})]},s))})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Opportunities"})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:e.insights.recommendations.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,t.jsx)("div",{className:"text-sm text-green-800",children:e})]},s))})})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center space-x-2 text-red-700",children:[(0,t.jsx)(u.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Risk Factors"})]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.insights.riskFactors.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"text-sm font-medium text-red-800",children:e})})]},s))})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(f.Z,{title:"Bond Issuance vs BDC Discount",data:e.historicalData.bond_issuance||[],dataKey:"value",color:"#3b82f6",unit:"",type:"line",showTrend:!0,height:300,formatValue:e=>e.toLocaleString(),formatDate:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(f.Z,{title:"Credit Funds vs Bank Provisions",data:e.historicalData.credit_fund||[],dataKey:"value",color:"#8b5cf6",unit:"",type:"line",showTrend:!0,height:300,formatValue:e=>e.toLocaleString(),formatDate:e=>new Date(e).toLocaleDateString()})]})]})}):(0,t.jsx)(c.N,{children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-600",children:"No correlation data available"})})})}},6927:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/correlations",function(){return a(2559)}])},8186:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9116:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1713).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[269,669,726,519,636,593,792],()=>e(e.s=6927)),_N_E=e.O()}]);