(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{906:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/credit-funds",function(){return a(8961)}])},8961:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(7876),r=a(4232),i=a(3905),n=a(727),l=a(5682),c=a(7041),d=a(1899),o=a(4660),x=a(9457),h=a(2885),m=a(5851),u=a(6795),g=a(7581),y=a(8230),j=a.n(y),v=a(7831),f=a(7937),p=a(2745);function N(){let[e,t]=(0,r.useState)(null),[a,y]=(0,r.useState)([]),[N,b]=(0,r.useState)(!0),[w,F]=(0,r.useState)(null),[k,D]=(0,r.useState)({isOpen:!1,title:"",data:[],dataKey:"value",color:"#8b5cf6",unit:"B",type:"line"}),[C,B]=(0,r.useState)(!1),[S,M]=(0,r.useState)({start:new Date(Date.now()-7776e6),end:new Date}),[T,_]=(0,r.useState)([]),[z,P]=(0,r.useState)([]);(0,r.useEffect)(()=>{E()},[]);let E=async()=>{try{b(!0),F(null);let e=await fetch("/api/metrics/current"),a=await e.json();if(!a.success)throw Error("Failed to fetch current metrics");let s=a.metrics.find(e=>"credit_fund"===e.key);if(!s)throw Error("Credit fund metric not found");let r=await fetch("/api/metrics/historical?days=365"),i=await r.json();if(!i.success)throw Error("Failed to fetch historical data");let n=i.data.credit_fund||[],l={currentValue:s.value,changePercent:s.changePercent,trend:s.changePercent>5?"up":s.changePercent<-5?"down":"stable",status:s.status,historicalData:n.map(e=>({timestamp:e.timestamp,value:e.value,date:e.date||e.timestamp.split("T")[0]})),breakdown:{byFund:[{name:"Blackstone Credit",value:.3*s.value,percentage:30},{name:"KKR Credit",value:.25*s.value,percentage:25},{name:"Apollo Credit",value:.2*s.value,percentage:20},{name:"Other Funds",value:.25*s.value,percentage:25}],byStrategy:[{strategy:"Direct Lending",value:.4*s.value,percentage:40},{strategy:"Mezzanine",value:.3*s.value,percentage:30},{strategy:"Distressed",value:.2*s.value,percentage:20},{strategy:"Opportunistic",value:.1*s.value,percentage:10}],bySize:[{size:"Large Deals (>$100M)",value:.5*s.value,percentage:50},{size:"Mid Deals ($25M-$100M)",value:.3*s.value,percentage:30},{size:"Small Deals (<$25M)",value:.2*s.value,percentage:20}]},insights:{keyTrends:["Credit fund assets are ".concat(s.changePercent>0?"increasing":"decreasing"," by ").concat(Math.abs(s.changePercent).toFixed(1),"%"),"Total assets under management: $".concat((s.value/1e9).toFixed(1),"B"),"Growth rate suggests ".concat(s.changePercent>0?"expanding":"contracting"," credit market")],riskFactors:s.value>8e10?["High credit fund assets may indicate excessive leverage","Rapid growth could signal frothy market conditions"]:[],recommendations:["Monitor fund performance and default rates","Track leverage ratios and risk metrics","Watch for signs of credit quality deterioration"]}};t(l),y(l.historicalData),P(l.historicalData)}catch(e){console.error("Error fetching analytics:",e),F(e instanceof Error?e.message:"Failed to fetch analytics")}finally{b(!1)}},Z=(e,t,s)=>{let r=a.filter(a=>{let s=new Date(a.timestamp);return s>=e&&s<=t});s.length,P(r)},A=e=>{switch(e){case"increasing":return(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-600"});case"decreasing":return(0,s.jsx)(o.A,{className:"h-4 w-4 text-red-600"});default:return(0,s.jsx)(x.A,{className:"h-4 w-4 text-gray-600"})}};return N?(0,s.jsx)(i.N,{children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading analytics..."})})}):w?(0,s.jsx)(i.N,{children:(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-red-600",children:w})})}):e?(0,s.jsx)(i.N,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,s.jsx)(j(),{href:"/analytics",children:(0,s.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Analytics"]})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Credit Funds Analytics"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Track private capital flows and fund activity patterns"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Total Flows"}),A(e.trend)]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["$",(e.currentValue/1e9).toFixed(1),"B"]}),(0,s.jsxs)("div",{className:"text-sm mt-2 ".concat(e.changePercent>0?"text-green-600":"text-red-600"),children:[e.changePercent>0?"+":"",e.changePercent.toFixed(1),"% from previous period"]})]})}),(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Trend"}),(0,s.jsx)(l.E,{variant:"up"===e.trend?"default":"down"===e.trend?"destructive":"secondary",children:e.trend})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 capitalize",children:e.trend}),(0,s.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Capital flow pattern"})]})}),(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"Red Flags"}),"critical"===e.status&&(0,s.jsx)(m.A,{className:"h-5 w-5 text-red-500"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:e.status}),(0,s.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Status"})]})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Category Breakdown"})]})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Fund"}),A(e.trend)]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.byFund.reduce((e,t)=>e+t.value,0)/1e9).toFixed(1),"B"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.byFund.length," funds"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:"Key Funds:"}),(0,s.jsxs)("div",{className:"space-y-1",children:[e.breakdown.byFund.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:[e.name,": ",e.percentage.toFixed(1),"%"]},t)),e.breakdown.byFund.length>3&&(0,s.jsxs)("div",{className:"text-gray-500",children:["+",e.breakdown.byFund.length-3," more"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Strategy"}),A(e.trend)]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.byStrategy.reduce((e,t)=>e+t.value,0)/1e9).toFixed(1),"B"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.byStrategy.length," strategies"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:"Strategies:"}),(0,s.jsx)("div",{className:"space-y-1",children:e.breakdown.byStrategy.map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:[e.strategy,": ",e.percentage.toFixed(1),"%"]},t))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Size"}),A(e.trend)]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.bySize.reduce((e,t)=>e+t.value,0)/1e9).toFixed(1),"B"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.bySize.length," size categories"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:"Deal Sizes:"}),(0,s.jsx)("div",{className:"space-y-1",children:e.breakdown.bySize.map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:[e.size,": ",e.percentage.toFixed(1),"%"]},t))})]})]})]})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Cross-Metric Correlations"})]})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"Bond Issuance Correlation"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"0.32"}),(0,s.jsx)(l.E,{className:"bg-green-100 text-green-600",children:"Weak Positive"}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Credit funds and bond issuance show weak positive correlation"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"BDC Discount Correlation"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"-0.28"}),(0,s.jsx)(l.E,{className:"bg-blue-100 text-blue-600",children:"Weak Negative"}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Credit funds and BDC discounts show weak negative correlation"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:"Bank Provision Correlation"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"0.15"}),(0,s.jsx)(l.E,{className:"bg-gray-100 text-gray-600",children:"Very Weak Positive"}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Minimal correlation with bank provisions"})]})]})})]}),"critical"===e.status&&(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)(n.ZB,{className:"flex items-center space-x-2 text-red-700",children:[(0,s.jsx)(m.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Red Flags & Insights"})]})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"space-y-3",children:e.insights.riskFactors.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-red-800",children:e}),(0,s.jsx)("div",{className:"text-sm text-red-600 mt-1",children:"This may indicate reduced capital availability in the market."})]})]},t))})})]}),(0,s.jsx)(v.Z,{title:"Credit Fund Activity Historical Trend",data:a,dataKey:"value",color:"#8b5cf6",unit:"B",type:"bar",showTrend:!0,height:400,dangerThreshold:15e10,warningThreshold:1e11,enableZoom:!0,enableDrillDown:!0,onDrillDown:e=>{D({isOpen:!0,title:"Credit Fund Activity Historical Trend",data:e,dataKey:"value",color:"#8b5cf6",unit:"B",type:"bar"})},formatValue:e=>"$".concat((e/1e9).toFixed(1)),formatDate:e=>{let t=new Date(e),a=Math.floor(t.getMonth()/3)+1,s=t.getFullYear();return"Q".concat(a," ").concat(s)},filteredData:z,showFilteredData:z.length!==a.length}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)(v.Z,{title:"Private Credit Funds",data:a.slice(0,8),dataKey:"value",color:"#3b82f6",unit:"B",type:"bar",showTrend:!0,height:300,formatValue:e=>"$".concat((.45*e/1e9).toFixed(1)),formatDate:e=>{let t=new Date(e),a=Math.floor(t.getMonth()/3)+1,s=t.getFullYear();return"Q".concat(a," ").concat(s)}}),(0,s.jsx)(v.Z,{title:"Direct Lending Funds",data:a.slice(0,8),dataKey:"value",color:"#10b981",unit:"B",type:"bar",showTrend:!0,height:300,formatValue:e=>"$".concat((.35*e/1e9).toFixed(1)),formatDate:e=>{let t=new Date(e),a=Math.floor(t.getMonth()/3)+1,s=t.getFullYear();return"Q".concat(a," ").concat(s)}}),(0,s.jsx)(v.Z,{title:"Infrastructure Funds",data:a.slice(0,8),dataKey:"value",color:"#f59e0b",unit:"B",type:"bar",showTrend:!0,height:300,formatValue:e=>"$".concat((.2*e/1e9).toFixed(1)),formatDate:e=>{let t=new Date(e),a=Math.floor(t.getMonth()/3)+1,s=t.getFullYear();return"Q".concat(a," ").concat(s)}})]}),(0,s.jsx)(f.z,{isOpen:k.isOpen,onClose:()=>{D(e=>({...e,isOpen:!1}))},title:k.title,data:k.data,dataKey:k.dataKey,color:k.color,unit:k.unit,type:k.type}),(0,s.jsx)(p.Z,{isOpen:C,onToggle:()=>B(!C),onDateRangeChange:(e,t)=>{M({start:e,end:t}),Z(e,t,T)},availableMetrics:["credit_fund","private_credit","direct_lending","infrastructure"],selectedMetrics:T,onMetricsChange:e=>{_(e),Z(S.start,S.end,e)},onResetFilters:()=>{M({start:new Date(Date.now()-7776e6),end:new Date}),_([]),P(a)},activeFiltersCount:+(z.length!==a.length)+ +(T.length>0)})]})}):(0,s.jsx)(i.N,{children:(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-600",children:"No analytics data available"})})})}}},e=>{e.O(0,[269,669,726,770,11,519,585,636,593,792],()=>e(e.s=906)),_N_E=e.O()}]);