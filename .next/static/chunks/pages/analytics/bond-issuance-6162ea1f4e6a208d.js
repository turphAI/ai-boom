(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{3280:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/bond-issuance",function(){return a(6642)}])},6642:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(7876),n=a(4232),i=a(3905),l=a(727),r=a(5682),c=a(7041),d=a(1899),o=a(4660),x=a(9457),m=a(2885),h=a(5851),u=a(6795),g=a(7581),y=a(8230),j=a.n(y),p=a(7831),v=a(7937),N=a(2745);function b(){let[e,s]=(0,n.useState)(null),[a,y]=(0,n.useState)([]),[b,f]=(0,n.useState)(!0),[w,D]=(0,n.useState)(null),[k,B]=(0,n.useState)({isOpen:!1,title:"",data:[],dataKey:"value",color:"#3b82f6",unit:"B",type:"line"}),[C,F]=(0,n.useState)(!1),[T,_]=(0,n.useState)({start:new Date(Date.now()-7776e6),end:new Date}),[S,E]=(0,n.useState)([]),[A,Z]=(0,n.useState)([]);(0,n.useEffect)(()=>{P()},[]);let P=async()=>{try{var e,a,t,n;f(!0),D(null);let i=await fetch("/api/metrics/current"),l=await i.json();if(!l.success)throw Error("Failed to fetch current metrics");let r=l.metrics.find(e=>"bond_issuance"===e.key);if(!r)throw Error("Bond issuance metric not found");let c=await fetch("/api/metrics/historical?days=365"),d=await c.json();if(!d.success)throw Error("Failed to fetch historical data");let o=d.data.bond_issuance||[],x={currentValue:r.value,changePercent:r.changePercent,trend:r.changePercent>5?"up":r.changePercent<-5?"down":"stable",status:r.status,historicalData:o.map(e=>({timestamp:e.timestamp,value:e.value,date:e.date||e.timestamp.split("T")[0]})),breakdown:{byCompany:(null==(a=r.metadata)||null==(e=a.companies)?void 0:e.map(e=>{var s,a,t,n;return{name:e,value:r.value/((null==(a=r.metadata)||null==(s=a.companies)?void 0:s.length)||1),percentage:100/((null==(n=r.metadata)||null==(t=n.companies)?void 0:t.length)||1)}}))||[],byFormType:[{type:"424B2",value:.6*r.value,percentage:60},{type:"424B5",value:.4*r.value,percentage:40}],byCoupon:[{range:"4.0-4.5%",value:.7*r.value,percentage:70},{range:"4.5-5.0%",value:.3*r.value,percentage:30}]},insights:{keyTrends:["Weekly bond issuance is ".concat(r.changePercent>0?"increasing":"decreasing"," by ").concat(Math.abs(r.changePercent).toFixed(1),"%"),"Average coupon rate is ".concat((null==(t=r.metadata)?void 0:t.avg_coupon)||4.35,"%"),"".concat((null==(n=r.metadata)?void 0:n.bond_count)||2," bonds issued this week")],riskFactors:r.value>4e9?["High bond issuance may indicate increased leverage","Rising coupon rates suggest higher borrowing costs"]:[],recommendations:["Monitor debt-to-equity ratios of issuing companies","Track coupon rate trends for cost of capital analysis"]}};s(x),y(x.historicalData),Z(x.historicalData)}catch(e){console.error("Error fetching analytics:",e),D(e instanceof Error?e.message:"Failed to fetch analytics")}finally{f(!1)}},I=(e,s,t)=>{let n=a.filter(a=>{let t=new Date(a.timestamp);return t>=e&&t<=s});t.length,Z(n)};return b?(0,t.jsx)(i.N,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-lg",children:"Loading analytics..."})})}):w?(0,t.jsx)(i.N,{children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-red-600",children:w})})}):e?(0,t.jsx)(i.N,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,t.jsx)(j(),{href:"/analytics",children:(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Back to Analytics"]})})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bond Issuance Analytics"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Analyze debt financing patterns and trends in the AI datacenter sector"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Total Issuance"}),(e=>{switch(e){case"increasing":return(0,t.jsx)(d.A,{className:"h-4 w-4 text-green-600"});case"decreasing":return(0,t.jsx)(o.A,{className:"h-4 w-4 text-red-600"});default:return(0,t.jsx)(x.A,{className:"h-4 w-4 text-gray-600"})}})(e.trend)]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:["$",(e.currentValue/1e9).toFixed(1),"B"]}),(0,t.jsxs)("div",{className:"text-sm mt-2 ".concat(e.changePercent>0?"text-green-600":"text-red-600"),children:[e.changePercent>0?"+":"",e.changePercent.toFixed(1),"% from previous period"]})]})}),(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Trend"}),(0,t.jsx)(r.E,{variant:"up"===e.trend?"destructive":"down"===e.trend?"default":"secondary",children:e.trend})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900 capitalize",children:e.trend}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Debt issuance pattern"})]})}),(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Red Flags"}),"critical"===e.status&&(0,t.jsx)(h.A,{className:"h-5 w-5 text-red-500"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:e.status}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Status of bond issuance"})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Category Breakdown"})]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Company"})}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.byCompany.reduce((e,s)=>e+s.value,0)/1e9).toFixed(1),"B"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.byCompany.length," companies"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Key Entities:"}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.breakdown.byCompany.slice(0,3).map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:e.name},s)),e.breakdown.byCompany.length>3&&(0,t.jsxs)("div",{className:"text-gray-500",children:["+",e.breakdown.byCompany.length-3," more"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Form Type"})}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.byFormType.reduce((e,s)=>e+s.value,0)/1e9).toFixed(1),"B"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.byFormType.length," form types"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Form Types:"}),(0,t.jsx)("div",{className:"space-y-1",children:e.breakdown.byFormType.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:[e.type,": ",e.percentage,"%"]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"By Coupon"})}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",(e.breakdown.byCoupon.reduce((e,s)=>e+s.value,0)/1e9).toFixed(1),"B"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.breakdown.byCoupon.length," ranges"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Coupon Ranges:"}),(0,t.jsx)("div",{className:"space-y-1",children:e.breakdown.byCoupon.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-50 px-2 py-1 rounded",children:[e.range,": ",e.percentage,"%"]},s))})]})]})]})})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Cross-Metric Correlations"})]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"BDC Discount Correlation"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"-0.45"}),(0,t.jsx)(r.E,{className:"bg-blue-100 text-blue-600",children:"Moderate Negative"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Higher bond issuance correlates with lower BDC discounts"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"Credit Fund Correlation"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"0.32"}),(0,t.jsx)(r.E,{className:"bg-green-100 text-green-600",children:"Weak Positive"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Bond issuance and credit fund assets show weak positive correlation"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:"Bank Provision Correlation"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"0.18"}),(0,t.jsx)(r.E,{className:"bg-gray-100 text-gray-600",children:"Very Weak Positive"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Minimal correlation with bank provisions"})]})]})})]}),"critical"===e.status&&(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center space-x-2 text-red-700",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Red Flags & Insights"})]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:e.insights.riskFactors.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-red-800",children:e}),(0,t.jsx)("div",{className:"text-sm text-red-600 mt-1",children:"This may indicate increased risk in the AI datacenter financing sector."})]})]},s))})})]}),(0,t.jsx)(p.Z,{title:"Bond Issuance Historical Trend",data:a,dataKey:"value",color:"#3b82f6",unit:"B",type:"line",showTrend:!0,height:400,dangerThreshold:1e10,warningThreshold:5e9,enableZoom:!0,enableDrillDown:!0,onDrillDown:e=>{B({isOpen:!0,title:"Bond Issuance Historical Trend",data:e,dataKey:"value",color:"#3b82f6",unit:"B",type:"line"})},formatValue:e=>"$".concat((e/1e9).toFixed(1)),formatDate:e=>new Date(e).toLocaleDateString(),filteredData:A,showFilteredData:A.length!==a.length}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(p.Z,{title:"Demand-Side Issuance",data:a.slice(0,30),dataKey:"value",color:"#10b981",unit:"B",type:"area",showTrend:!0,height:300,formatValue:e=>"$".concat((.4*e/1e9).toFixed(1)),formatDate:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(p.Z,{title:"Supply-Side Issuance",data:a.slice(0,30),dataKey:"value",color:"#f59e0b",unit:"B",type:"area",showTrend:!0,height:300,formatValue:e=>"$".concat((.35*e/1e9).toFixed(1)),formatDate:e=>new Date(e).toLocaleDateString()}),(0,t.jsx)(p.Z,{title:"Financing Issuance",data:a.slice(0,30),dataKey:"value",color:"#8b5cf6",unit:"B",type:"area",showTrend:!0,height:300,formatValue:e=>"$".concat((.25*e/1e9).toFixed(1)),formatDate:e=>new Date(e).toLocaleDateString()})]}),(0,t.jsx)(v.z,{isOpen:k.isOpen,onClose:()=>{B(e=>({...e,isOpen:!1}))},title:k.title,data:k.data,dataKey:k.dataKey,color:k.color,unit:k.unit,type:k.type}),(0,t.jsx)(N.Z,{isOpen:C,onToggle:()=>F(!C),onDateRangeChange:(e,s)=>{_({start:e,end:s}),I(e,s,S)},availableMetrics:["bond_issuance","demand_side","supply_side","financing"],selectedMetrics:S,onMetricsChange:e=>{E(e),I(T.start,T.end,e)},onResetFilters:()=>{_({start:new Date(Date.now()-7776e6),end:new Date}),E([]),Z(a)},activeFiltersCount:+(A.length!==a.length)+ +(S.length>0)})]})}):(0,t.jsx)(i.N,{children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-600",children:"No analytics data available"})})})}}},e=>{e.O(0,[269,669,726,770,11,519,585,636,593,792],()=>e(e.s=3280)),_N_E=e.O()}]);